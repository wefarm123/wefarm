<!DOCTYPE html>
<html lang=\"en\">
<head>
    <meta charset=\"UTF-8\">
    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">
    <title>WEFARM Social</title>
    <link href=\"https://fonts.googleapis.com/css?family=Poppins|Playfair+Display\" rel=\"stylesheet\">
    <style>
        body {
            font-family: \"Poppins\", sans-serif;
            background: linear-gradient(white, #DFF1D4);
            margin: 0 auto;
            text-align: center;
        }
        #header_wrapper { background-color: #9AC18B; padding: 15px 0; }
        #header { width: 980px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; }
        #header #sitename a { font-family: 'Playfair Display', serif; color: white; font-size: 32px; text-decoration: none; font-weight: 700; }
        input { padding: 5px; border-radius: 4px; margin-bottom: 5px; border: 1px solid #ccc; }
        input[type=\"submit\"] { background-color: #2E7D32; color: white; cursor: pointer; border: none; padding: 7px 15px; }
        #wrapper { width: 980px; margin: 40px auto; display: flex; justify-content: space-between; }
        #div1, #div2 { padding: 20px; }
        #div2 { background-color: white; border-radius: 10px; box-shadow: 0 0 15px rgba(0,0,0,0.1); }
    </style>
</head>
<body>
<div id=\"header_wrapper\">
    <div id=\"header\">
        <div id=\"sitename\"><a href=\"#\">WEFARM Social</a></div>
        <div>
            <input id=\"loginEmail\" type=\"text\" placeholder=\"Email\">
            <input id=\"loginPassword\" type=\"password\" placeholder=\"Password\">
            <input type=\"submit\" value=\"Log In\" onclick=\"loginUser()\">
            <br><a href=\"#\">Forgotten account?</a>
        </div>
    </div>
</div>
<div id=\"wrapper\">
    <div id=\"div1\">
        <p>WEFARM connects you with fellow farmers to share knowledge and farming insights.</p>
        <img src=\"signuplogo.png" alt=\"Connect Farmers\">
    </div>
    <div id=\"div2\">
        <h1>Create an account</h1>
        <input id=\"firstName\" type=\"text\" placeholder=\"First Name\">
        <input id=\"surname\" type=\"text\" placeholder=\"Surname\">
        <input id=\"signupEmail\" type=\"text\" placeholder=\"Email\">
        <input id=\"signupPassword\" type=\"password\" placeholder=\"Password\">
        <br><br>
        <input type=\"submit\" value=\"Create an account\" onclick=\"signupUser()\">
    </div>
</div>

<!-- Firebase -->
<script type=\"module\">
    import { initializeApp } from \"https://www.gstatic.com/firebasejs/10.11.1/firebase-app.js\";
    import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } from \"https://www.gstatic.com/firebasejs/10.11.1/firebase-auth.js\";
    import { getDatabase, ref, set } from \"https://www.gstatic.com/firebasejs/10.11.1/firebase-database.js\";

    const firebaseConfig = {
        apiKey: \"AIzaSyCop_ZiP-q7YSWB54kYytKoJKvjFecoiRU\",
        authDomain: \"wefarmproject.firebaseapp.com\",
        databaseURL: \"https://wefarmproject-default-rtdb.asia-southeast1.firebasedatabase.app\",
        projectId: \"wefarmproject\",
        storageBucket: \"wefarmproject.firebasestorage.app\",
        messagingSenderId: \"260514820964\",
        appId: \"1:260514820964:web:400135c256ed2554388071\"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getDatabase(app);

    window.signupUser = function() {
        const email = document.getElementById(\"signupEmail\").value;
        const password = document.getElementById(\"signupPassword\").value;
        const firstName = document.getElementById(\"firstName\").value;
        const surname = document.getElementById(\"surname\").value;

        createUserWithEmailAndPassword(auth, email, password)
            .then((userCredential) => {
                set(ref(db, 'users/' + userCredential.user.uid), {
                    firstName: firstName,
                    surname: surname,
                    email: email
                });
                alert('Signup successful!');
            })
            .catch((error) => alert(error.message));
    };

    window.loginUser = function() {
        const email = document.getElementById(\"loginEmail\").value;
        const password = document.getElementById(\"loginPassword\").value;

        signInWithEmailAndPassword(auth, email, password)
            .then(() => {
                alert('Login successful!');
                window.location.href = \"profile.html\";
            })
            .catch((error) => alert(error.message));
    };
</script>
</body>
</html>
